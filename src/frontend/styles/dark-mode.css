/* ============================================================================
   Dark Mode — Component-level overrides
   ============================================================================ */

/* ── Dark mode toggle button ──────────────────────────────────────── */
.dark-mode-toggle {
  background: none;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text-light);
  cursor: pointer;
  padding: 6px 10px;
  font-size: 1rem;
  transition: var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
}
.dark-mode-toggle:hover {
  color: var(--color-primary);
  border-color: var(--color-primary);
  background: var(--color-primary-bg);
}

/* ── Body & wrapper ───────────────────────────────────────────────── */
[data-theme="dark"] body {
  background-image: none;
  background-color: #0f172a;
}
[data-theme="dark"] .app-wrapper {
  background: #0f172a;
}

/* ── Cards ────────────────────────────────────────────────────────── */
[data-theme="dark"] .card,
[data-theme="dark"] .notes-page-card,
[data-theme="dark"] .gallery-card,
[data-theme="dark"] .diary-card,
[data-theme="dark"] .reconstruction-card,
[data-theme="dark"] .admin-page-card {
  background: var(--color-bg);
  border-color: var(--color-border);
  color: var(--color-text);
}

/* ── Login container ──────────────────────────────────────────────── */
[data-theme="dark"] .login-container {
  background: var(--color-bg);
  border-color: var(--color-border);
}

/* ── Inputs ───────────────────────────────────────────────────────── */
[data-theme="dark"] input,
[data-theme="dark"] select,
[data-theme="dark"] textarea {
  background-color: var(--color-bg-alt);
  color: var(--color-text);
  border-color: var(--color-border);
}
[data-theme="dark"] input::placeholder,
[data-theme="dark"] textarea::placeholder {
  color: var(--color-text-muted);
}
[data-theme="dark"] input:focus,
[data-theme="dark"] select:focus,
[data-theme="dark"] textarea:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.15);
}

/* ── Top bar ──────────────────────────────────────────────────────── */
[data-theme="dark"] .top-bar {
  background: var(--color-bg);
  border-bottom-color: var(--color-border);
}
[data-theme="dark"] .nav-link {
  color: var(--color-text-light);
}
[data-theme="dark"] .nav-link:hover,
[data-theme="dark"] .nav-link.active {
  color: var(--color-primary-light);
}

/* ── Modals ───────────────────────────────────────────────────────── */
[data-theme="dark"] .modal-overlay {
  background: rgba(0, 0, 0, 0.7);
}
[data-theme="dark"] .modal-content {
  background: var(--color-bg);
  border-color: var(--color-border);
  color: var(--color-text);
}

/* ── Reservations ─────────────────────────────────────────────────── */
[data-theme="dark"] .reservation-header,
[data-theme="dark"] .reservation-meta {
  border-color: var(--color-border);
}

/* ── Shopping list ────────────────────────────────────────────────── */
[data-theme="dark"] .shopping-list-container {
  background: var(--color-bg);
}

/* ── Kanban board ─────────────────────────────────────────────────── */
[data-theme="dark"] .kanban-column {
  background: var(--color-bg-alt);
}
[data-theme="dark"] .kanban-item {
  background: var(--color-bg);
  border-color: var(--color-border);
}

/* ── Lightbox ─────────────────────────────────────────────────────── */
[data-theme="dark"] .lightbox-overlay {
  background: rgba(0, 0, 0, 0.92);
}

/* ── Notebook ─────────────────────────────────────────────────────── */
[data-theme="dark"] .notebook-paper {
  background: #1e293b;
  color: var(--color-text);
}
[data-theme="dark"] .notebook-paper::before {
  /* lined background — darker variant */
  background-image: repeating-linear-gradient(
    transparent,
    transparent 31px,
    rgba(100, 116, 139, 0.2) 31px,
    rgba(100, 116, 139, 0.2) 32px
  );
}

/* ── Gallery photos ───────────────────────────────────────────────── */
[data-theme="dark"] .photo-card {
  border-color: var(--color-border);
}

/* ── Notes ────────────────────────────────────────────────────────── */
[data-theme="dark"] .note-item {
  background: var(--color-bg-alt);
  border-color: var(--color-border);
}

/* ── User rows (admin) ────────────────────────────────────────────── */
[data-theme="dark"] .user-row {
  background: var(--color-bg-alt);
  border-color: var(--color-border);
}

/* ── Scrollbar dark override ──────────────────────────────────────── */
[data-theme="dark"] ::-webkit-scrollbar-track {
  background: var(--color-bg-alt);
}
[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: var(--color-border);
}
[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: var(--color-border-dark);
}

/* ── Flatpickr dark ───────────────────────────────────────────────── */
[data-theme="dark"] .flatpickr-calendar {
  background: var(--color-bg);
  border-color: var(--color-border);
  box-shadow: var(--shadow-lg);
}
[data-theme="dark"] .flatpickr-months,
[data-theme="dark"] .flatpickr-weekdays {
  background: var(--color-bg-alt);
}
[data-theme="dark"] .flatpickr-day {
  color: var(--color-text);
}
[data-theme="dark"] .flatpickr-day:hover {
  background: var(--color-bg-hover);
  border-color: var(--color-border);
}
[data-theme="dark"] span.flatpickr-weekday,
[data-theme="dark"] .flatpickr-months .flatpickr-month,
[data-theme="dark"] .flatpickr-current-month .flatpickr-monthDropdown-months,
[data-theme="dark"] .flatpickr-current-month input.cur-year {
  color: var(--color-text);
}
[data-theme="dark"] .flatpickr-months .flatpickr-prev-month,
[data-theme="dark"] .flatpickr-months .flatpickr-next-month {
  color: var(--color-text-light);
  fill: var(--color-text-light);
}
